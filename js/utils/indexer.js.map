{"version":3,"sources":["utils/indexer.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,CACL,QAAQ,EACR,YAAY,EACZ,YAAY,CACZ,EACD,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE;AACrB,QAAO,UAAU,QAAQ,EAAE;AAC1B,MAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;MACzB,KAAK,GAAG,EAAE,CAAC;;AAEZ,UAAQ,CACN,IAAI,CAAC,IAAI,CAAC,CACV,IAAI,CAAC,YAAY;AACjB,OAAI,EAAE,GAAG,IAAI;OACZ,OAAO,GAAG,EAAE,CAAC,kBAAkB;OAC/B,CAAC,GAAG,EAAE,CAAC;;AAER,KAAE,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;AAE1B,UAAO,OAAO,IAAI,OAAO,CAAC,OAAO,KAAK,IAAI,EAAE;AAC3C,QAAI,OAAO,CAAC,OAAO,KAAK,GAAG,EAAE;AAC5B,YAAO,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;;AAE9B,SAAI,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;;AAE3B,MAAC,CAAC,IAAI,CAAC;AACN,QAAE,EAAE,OAAO,CAAC,EAAE;AACd,UAAI,EAAE,OAAO,CAAC,SAAS;MACvB,CAAC,CAAC;KACH;;AAED,WAAO,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACrC;;AAED,OAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;;AAEnB,QAAK,CAAC,IAAI,CAAC;AACV,QAAI,EAAE,EAAE,CAAC,SAAS;AAClB,MAAE,EAAE,EAAE,CAAC,EAAE;AACT,KAAC,EAAE,CAAC;IACJ,CAAC,CAAC;GACH,CAAC,CAAC;;AAEJ,SAAO,KAAK,CAAC;EACb,CAAC;CACF,CAAC,CAAC","file":"utils/indexer.js","sourcesContent":["define([\n\t\t'jquery',\n\t\t'underscore',\n\t\t'utils/hash'\n\t],\n\tfunction ($, _, hash) {\n\t\treturn function (selector) {\n\t\t\tvar $content = $(selector),\n\t\t\t\tarray = [];\n\n\t\t\t$content\n\t\t\t\t.find('h2')\n\t\t\t\t.each(function () {\n\t\t\t\t\tvar h2 = this,\n\t\t\t\t\t\tsibling = h2.nextElementSibling,\n\t\t\t\t\t\tp = [];\n\n\t\t\t\t\th2.id = _.uniqueId('h2_');\n\n\t\t\t\t\twhile (sibling && sibling.tagName !== 'H2') {\n\t\t\t\t\t\tif (sibling.tagName === 'P') {\n\t\t\t\t\t\t\tsibling.id = _.uniqueId('p_');\n\n\t\t\t\t\t\t\thash.p[sibling.id] = h2.id;\n\n\t\t\t\t\t\t\tp.push({\n\t\t\t\t\t\t\t\tid: sibling.id,\n\t\t\t\t\t\t\t\ttext: sibling.innerText\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsibling = sibling.nextElementSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\thash.h2[h2.id] = p;\n\n\t\t\t\t\tarray.push({\n\t\t\t\t\t\ttext: h2.innerText,\n\t\t\t\t\t\tid: h2.id,\n\t\t\t\t\t\tp: p\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\treturn array;\n\t\t};\n\t});"],"sourceRoot":"/source/"}