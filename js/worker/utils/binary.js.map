{"version":3,"sources":["worker/utils/binary.js"],"names":[],"mappings":";;AAAA,MAAM,CAAC,EAAE,EAAE,YAAY;AAEtB,UAAS,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE;AAC/B,MAAI,CAAC,IAAI,EAAE;AACV,UAAO,KAAK,CAAC;GACb;;AAED,SAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC;EAC3C;;;;AAID,QAAO,UAAU,IAAI,EAAE,IAAI,EAAE;AAC5B,MAAI,QAAQ;MACX,CAAC,GAAG,CAAC;MACL,IAAI;MACJ,MAAM,GAAG,IAAI,CAAC,MAAM;MACpB,OAAO,GAAG,EAAE;MACZ,KAAK,GAAG,CAAC;MACT,IAAI,GAAG,MAAM,GAAG,CAAC,CAAC;;AAEnB,SAAO,KAAK,IAAI,IAAI,EAAE;AACrB,WAAQ,GAAG,AAAC,CAAC,KAAK,GAAG,IAAI,CAAA,GAAI,CAAC,GAAI,CAAC,CAAC;;AAEpC,OAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,EAAE;;;;;AAKrC,WAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;;AAE7B,WAAO,IAAI,EAAE;AACZ,SAAI,GAAG,IAAI,CAAC;;AAEZ,SAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE;AACzC,aAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;AACjC,UAAI,GAAG,KAAK,CAAC;MACb;;AAED,SAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE;AACzC,aAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;AACjC,UAAI,GAAG,KAAK,CAAC;MACb;;AAED,OAAE,CAAC,CAAC;;AAEJ,SAAI,IAAI,EAAE;AACT,YAAM;MACN;KACD;;AAED,UAAM;IACN,MAAM;AACN,QAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE;AAC1B,SAAI,GAAG,QAAQ,GAAG,CAAC,CAAC;KACpB,MAAM;AACN,UAAK,GAAG,QAAQ,GAAG,CAAC,CAAC;KACrB;IACD;GACD;;AAED,SAAO,OAAO,CAAC;EACf,CAAC;CACF,CAAC,CAAC","file":"worker/utils/binary.js","sourcesContent":["define([], function () {\n\n\tfunction startsWith(text, item) {\n\t\tif (!text) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(0, item.length) === item;\n\t}\n\t/**\n\t * needs ascending list to search in\n\t */\n\treturn function (list, item) {\n\t\tvar midpoint,\n\t\t\ti = 1,\n\t\t\texit,\n\t\t\tlength = list.length,\n\t\t\tresults = [],\n\t\t\tfirst = 0,\n\t\t\tlast = length - 1;\n\n\t\twhile (first <= last) {\n\t\t\tmidpoint = ((first + last) / 2) | 0;\n\n\t\t\tif (startsWith(list[midpoint], item)) {\n\t\t\t\t// we have found the position of the word\n\t\t\t\t// that starts with {item}\n\t\t\t\t// but we should also gather all other words that are right next to this one\n\t\t\t\t// if they starts with {item}\n\t\t\t\tresults.push(list[midpoint]);\n\n\t\t\t\twhile (true) {\n\t\t\t\t\texit = true;\n\n\t\t\t\t\tif (startsWith(list[midpoint + i], item)) {\n\t\t\t\t\t\tresults.push(list[midpoint + i]);\n\t\t\t\t\t\texit = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (startsWith(list[midpoint - i], item)) {\n\t\t\t\t\t\tresults.push(list[midpoint - i]);\n\t\t\t\t\t\texit = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t++i;\n\n\t\t\t\t\tif (exit) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tif (item < list[midpoint]) {\n\t\t\t\t\tlast = midpoint - 1;\n\t\t\t\t} else {\n\t\t\t\t\tfirst = midpoint + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t};\n});"],"sourceRoot":"/source/"}